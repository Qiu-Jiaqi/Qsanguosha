# 更新记录

## 2022-01-31

以下均没有ai

1. 张春华（一将成名）
   
   珠联璧合：司马懿
   
   以前玩三国杀就很喜欢张春华，那几句台词：身伤易愈，心伤难合。心随情碎，情随伤逝。
   
   1. ~~绝情：锁定技，你即将造成的伤害视为失去体力。~~
      
      绝情：锁定技，你即将造成或受到的伤害均视为失去体力，此时若你手牌不为空，需弃置一张手牌。（2022-02-02改）
   
   2. ~~伤逝：当你的手牌数小于X时，你可以将手牌摸至X张。（X为你已损失的体力值）~~
      
      伤逝：当你的手牌数小于X时，你可以将手牌摸至X张。（X为你已损失的体力值的两倍）（2022-02-05改）
      
      - <u>**修改**：加强了，自己玩，好玩就行。</u>

2. 神甄姬（神）
   
   bug：avatar头像不居中
   
   珠联璧合：曹丕
   
   1. 神赋：回合结束时，若你的手牌数为：奇数，你可对一名其他角色造成1点雷电伤害，若造成其死亡，你可重复此流程；偶数，你可令一名本回合未指定过的角色摸一张牌或弃置其一张手牌，若执行后该角色的手牌数等于其体力值，你可重复此流程。
   
   2. 七弦：锁定技，你的手牌上限为7。

3. 孙茹（sp2）
   
   珠联璧合：陆逊
   
   **bug：发动影箭时，会播放两次台词**。已解决，添加mute参数，设置为true。
   
   1. 影箭：准备阶段开始时，你可以视为使用一张无距离限制的【杀】。
   
   2. 释衅：锁定技，每当你受到火焰伤害时，防止此伤害。

4. 戏志才（sp）
   
   珠联璧合：郭嘉
   
   1. 天妒：当你的判定结果确定后，你可获得判定牌。 
   
   2. 先辅：锁定技，**亮将时**，你选择一名其他角色，当其受到伤害后，你受到等量的伤害，当其回复体力后，你回复等量的体力。
      
      - <u>**修改**：游戏开始时改为了亮将时。</u>
   
   3. 筹策：当你受到1点伤害后，你可以判定，若结果为：黑色，你弃置一名角色区域里的一张牌；红色，你令一名角色摸一张牌（先辅的角色摸两张）。

## 2022-02-01

5. 马云禄（sp3）
   
   bug：avatar头像不居中
   
   珠联璧合：马超、赵云
   
   1. 马术：锁定技，你与其他角色距离-1。
   
   2. 凤魄：当你使用【杀】或【决斗】仅指定一名角色为目标后，你可以观看其手牌然后选择一项：1.摸X张牌；2.你使用此牌造成的伤害+X。（X为其方块手牌数，若你本局游戏内杀死过角色，则修改为其红色手牌数）
      
      - <u>**修改**：相比原版技能加强很多了，在B站看到说是外服的加强版，就按照描述写了。</u>

## 2022-02-02

6. 沮授（一将成名4）
   
   1. ~~渐营：每当你使用（不包括响应）一张牌时，若此牌与你使用的上一张牌花色或点数相同，你可以摸一张牌。~~
      
      渐营：每当你使用（包括响应）一张牌时，若此牌与你使用的上一张牌花色或点数相同，你可以摸一张牌。出牌阶段限一次，你可以将一张牌当做任意一张基本牌使用，且该牌使用不计入次数限制，若你使用的上一张牌有花色，则此牌的花色视为与上一张牌的花色相同，否则花色不变。（2022-02-11改）
      
      - <u>**修改**：渐营全局生效，不只在出牌阶段。（2022-02-11改）新增：响应也能触发渐营，加上了界沮授的效果。</u>
   
   2. 矢北：锁定技，你每回合第一次受到伤害后，回复1点体力。然后进行判定，根据判定结果决定本回合下次技能效果：若为红色，技能效果不变；若为黑色，改为失去1点体力。
      
      - <u>**修改**：自己设计的加强，第一次必回血，其后每次是回血还是失去体力都根据前一次的判定来决定，起码比原版的必定失去体力强吧。</u>

## 2022-02-03

7. 张星彩（sp）
   
   bug：avatar头像不居中
   
   珠联璧合：刘禅、张飞
   
   1. 甚贤：每当一名其他角色在其回合内造成过伤害，你可以摸一张牌。
      
      - <u>**修改**：完全改了，不要问为什么，卡牌移动原因的结构体中的m_reason_，我整了一个早上都没成功，下午直接把技能改掉算了。</u>
   
   2. 枪舞：出牌阶段限一次，你可以进行判定：若如此做，本回合，你使用点数小于判定牌点数的【杀】无距离限制，你使用点数大于判定牌点数的【杀】无次数限制且不计入次数限制，你使用点数等于判定牌点数的【杀】同时具备以上两点且伤害+1。
      
      - <u>**修改**：原版的基础上，加了个等于点数同时拥有效果且伤害值+1。</u>

## 2022-02-05

8. 曹叡（一将成名5）
   
   1. 恢拓：每当你受到伤害后，你可以令一名角色进行判定，若结果为红色，该角色回复1点体力；若结果为黑色，该角色摸X张牌。（X为此次伤害的伤害值）
   
   2. 明鉴：出牌阶段限一次，你可以将所有手牌交给一名其他角色，然后该角色下回合的手牌上限+1，且出牌阶段内可以额外使用一张【杀】。
   
   3. 兴衰：限定技，当你进入濒死状态时可以发动，若此时场上明置角色中每有一名与你势力相同的其他角色存活，你回复1点体力（若体力已满，则增加体力上限后再回复），然后该角色受到1点伤害。
      
      - <u>**修改**：直接把询问删了，还不会写ai；然后再加上了个回满血后，增加体力上限。</u>

## 2022-02-07

1. 优化精简了大量代码，摸牌弃牌统一用room，明确了命名。
   
   命名用技能名_xxx，flag和记录技能发动的mark用self:objectName()，需要显示的mark加@用room设置，提示语prompt用#，房间信息用$，询问响应技能卡类型用@@

2. 增加部分珠联璧合。

## 2022-02-19

前几天呢，准备昨天面试，看了很多，结果啥也没问，罢了，这样的废物，估计也不会要的了。

改用源码写武将了，前些天问群主拿到源码，就是最新版的编译后不知道为什么ai有问题，也不管了，用的2.3.14版，感觉很多功能用源码写才能实现。

前面的全推倒吧。尽可能写一点点ai，能动会用技能就行。

目录结构改掉了，直接复制方便就好。

9. 麴义（sp）
   
   1. 伏骑：锁定技，当你使用牌时，与你距离为1的其他角色不能使用或打出牌响应你使用的牌。
   
   2. 骄恣：锁定技，当你造成或受到伤害时，若你的手牌数是全场唯一最多，此伤害值+1。
      
      不能响应就需要在源码层面写了，身份版的卡牌使用结构体才有不能响应的列表。

10. 董白（sp）
    
    1. 连诛：出牌阶段限一次，你可以展示并交给一名其他角色一张牌，若该牌为：红色，你摸一张牌；黑色，其选择一项：1.你摸两张牌；2.弃置两张牌。
    
    2. 黠慧：锁定技，你的黑色牌不占用手牌上限；其他角色获得你的黑色牌时，这些牌标记为“黠慧”牌，其不能使用、打出、弃置“黠慧”牌;其体力值减少时，“黠慧”牌标记消失；其他角色的回合结束时，若其本回合失去过“黠慧”牌，且手牌中没有“黠慧”牌，其失去1点体力。
       
       董白是真的好难，黠慧一招技能就好长好长。不占用手牌上限也是改源码实现的。
